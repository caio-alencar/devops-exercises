# PODs

1- Run a command to view all the pods in the current namespace

kubectl get po 

2- Run a pod called "nginx-test" using the "nginx" image 

kubectl run nginx-test --image=nginx 

3- Assuming that you have a Pod called "nginx-test", how to remove it?

kubectl delete po nginx-test 

4- In what namespace the etcd pod is running? list the pods in that namespace 

kubectl get po -n kube-system

5- kubectl get po -n kube-system

kubectl get po -A

6- Write a YAML of a Pod with two containers and use the YAML file to create the Pod (use whatever images you prefer) 

apiVersion: v1
kind: Pod
metadata:
  labels:
    run: two-cont
  name: two-cont
spec:
  containers:
  - image: nginx
    name: two-cont
    resources: {}
  - image: busybox
    name: busybox
  dnsPolicy: ClusterFirst
  restartPolicy: Always
status: {}

kubectl apply -f two-containers-pod.yaml 

7- Create a YAML of a Pod without actually running the Pod with the kubectl command (use whatever image you prefer)

 kubectl run pod-yaml --image=nginx --dry-run=client -oyaml >pod-yaml.yaml 

8- How to test a manifest is valid?

kubectl apply -f pod-yaml.yaml --dry-run=client

9- How to check which image a certain Pod is using?

kubectl describe po pod-yaml | grep image -i 

10- How to check how many containers run in single Pod?

kubectl describe po pod-yaml | grep container -i 

11- Run a Pod called "remo" with the the latest redis image and the label 'year=2017' 
kubectl run remo --image=redis:latest -l year=2017

12- List pods and their labels 

kubectl get po --show-labels

13- Delete a Pod called "nm"

kubectl delete po rm 

14- List all the pods with the label "env=prod" 

kubectl get po -l env=prod 

15- Create a static pod with the image python that runs the command sleep 2017

cd /etc/kubernetes/manifests 

kubectl run some-pod --image=python --command sleep 2017 --restart=Never --dry-run=client -o yaml > static-pod.yaml

kubectl apply -f static-pod.yaml 

16- Describe how would you delete a static Pod

rm <STATIC_POD_PATH>/<POD_DEFINITION_FILE> 

----------------------------------------------------------------------------------

# Troubleshooting Pods

1- You try to run a Pod but see the status "CrashLoopBackOff". What does it means? How to identify the issue?

O  erro aparece para informar que o container falhou ao subir. Para verificar o erro: 
 
kubectl describe po pod-name 

kubectl logs pod-name 

kubectl get events 

2- What the error ImagePullBackOff means?

Erro na imagem do pod, pois o nome está errado. Também pode ser erro no registro 

Para verificar com detalhes: 

kubectl describe po pod-name 

3- How to check on which node a certain Pod is running?

kubectl get po -owide 

4- Run the following command: kubectl run ohno --image=sheris. Did it work? why not? fix it without removing the Pod and using any image you would like 

O pod apressentou o erro ErrImagePull, usando o describe, vemos que a imagem não pode ser encontrada. Para resolver usamos o edit para trocar o nome da imagem para o ngnix 

kubectl edit po ohno

5- You try to run a Pod but it's in "Pending" state. What might be the reason?

pode estar esperando o schedule para ser executado, para verificar:

kubectl get po -A | grep scheduler 

6- How to view the logs of a container running in a Pod?

kubectl logs pod-name 

7- There are two containers inside a Pod called "some-pod". What will happen if you run kubectl logs some-pod

kubectl logs pod-name -c container-name







































